<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>제주어 이름 결과</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>✨ 추천 결과 ✨</h1>
        <div id="card" class="result-card">
            <!-- 랜덤 이미지 자리 -->
            <img id="result-image" src="" alt="결과 이미지" style="max-width: 100%; border-radius: 12px;">
            <h2 id="jeju-name"></h2>
            <p id="jeju-meaning"></p>
            <div style="margin-top: 20px;">
                <button onclick="shareResult()">공유하기</button>
                <button onclick="downloadImage()">이미지로 저장</button>
            </div>
        </div>

        <!-- 배너 광고 -->
        <div style="margin-top: 40px; text-align: center;">
            <a href="https://www.instagram.com/dokkaebi_code/" target="_blank" rel="noopener noreferrer">
                <img src="/banner.jpg" alt="코비랑 국내여행 갈래?" style="max-width: 100%; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);">
            </a>
        </div>
    </div>

    <script>
        const jejuNames = [
            { name: "가람", meaning: "강, 물" },
            { name: "하르방", meaning: "할아버지, 수호신" },
            { name: "바당", meaning: "바다" },
            { name: "우다", meaning: "비, 내리다" },
            { name: "하늬", meaning: "바람" },
            { name: "달리", meaning: "달" },
            { name: "멩이", meaning: "고양이" },
            { name: "도르멍", meaning: "돌멩이" },
            { name: "올레", meaning: "작은 길, 골목" },
            { name: "한라", meaning: "산, 최고" },
        ];

        const images = [
            'img1.jpg',
            'img2.jpg',
            'img3.jpg',
            'img4.jpg',
            'img5.jpg'
        ];

        function getQueryParam(param) {
            const params = new URLSearchParams(window.location.search);
            return params.get(param);
        }

        const name = getQueryParam("name");
        const meaning = getQueryParam("meaning");
        const matches = jejuNames.filter(item => item.meaning.includes(meaning));

        let selected;
        if (matches.length > 0) {
            selected = matches[0];
        } else {
            const randomIdx = Math.floor(Math.random() * jejuNames.length);
            selected = jejuNames[randomIdx];
        }

        document.getElementById("jeju-name").innerText = `${name}님께 추천하는 제주어 이름: ${selected.name}`;
        document.getElementById("jeju-meaning").innerText = `뜻: ${selected.meaning}`;

        const randomImage = images[Math.floor(Math.random() * images.length)];
        document.getElementById("result-image").src = randomImage;

        function shareResult() {
            alert("공유 기능은 추후 추가됩니다!");
        }

        function downloadImage() {
            alert("이미지 저장 기능은 추후 추가됩니다!");
        }
    </script>
</body>
</html>
